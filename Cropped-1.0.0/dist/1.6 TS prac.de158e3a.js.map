{"mappings":"AAAA,SAAS,gBAAgB,CAAC,oBAAmB;IACzC,MAAM,YAAY,SAAS,aAAa,CAAC;IAC7C,MAAM,MAAM,SAAS,aAAa,CAAC;IACnC,MAAM,UAAU,SAAS,aAAa,CAAC;IACvC,MAAM,cAAc,SAAS,aAAa,CAAC;IAC3C,MAAM,eAAe,SAAS,aAAa,CAAC;IAE5C,IAAI,UAAU;IAEd,UAAU,gBAAgB,CAAC,UAAU,CAAC;QAClC,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE;QAE9B,IAAG,CAAC,MAAM;QACV,IAAG,KAAK,IAAI,GAAG,QAAY;YACvB,MAAM;YACN;QACJ;QAEA,MAAM,MAAM,IAAI,eAAe,CAAC;QAChC,IAAI,GAAG,GAAG;QAEV,IAAI,SAAS,QAAQ,OAAO;QAE5B,IAAI,MAAM,GAAG;YACT,UAAU,IAAI,QAAQ,KAAK;gBACvB,UAAU;gBACV,aAAa;gBACb,UAAU;gBACV,UAAU;gBACV,SAAS;YACb;QACJ;IACJ;IAEA,QAAQ,gBAAgB,CAAC,SAAS;QAChC,IAAI,CAAC,SAAS;QAEd,MAAM,SAAS,QAAQ,gBAAgB;QACvC,aAAa,KAAK,GAAG,OAAO,KAAK;QACjC,aAAa,MAAM,GAAG,OAAO,MAAM;QACnC,MAAM,MAAM,aAAa,UAAU,CAAC;QACpC,IAAI,SAAS,CAAC,QAAQ,GAAG;QAEzB,YAAY,QAAQ,GAAG;IACzB;IAEA,YAAY,gBAAgB,CAAC,SAAS;QAClC,MAAM,OAAO,SAAS,aAAa,CAAC;QACpC,KAAK,QAAQ,GAAG;QAChB,KAAK,IAAI,GAAG,aAAa,SAAS,CAAC;QACnC,KAAK,KAAK;IACd;AACA","sources":["src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded',() => {\r\n    const fileInput = document.querySelector('#fileInput');\r\nconst img = document.querySelector('#image');\r\nconst cropBtn = document.querySelector('#cropBtn');\r\nconst downloadBtn = document.querySelector('#downloadBtn');\r\nconst resultCanvas = document.querySelector('#resultCanvas');\r\n\r\nlet cropper = null;\r\n\r\nfileInput.addEventListener('change', (e) => {\r\n    const file = e.target.files[0];\r\n\r\n    if(!file) return;\r\n    if(file.size > 300 * 1024) {\r\n        alert('Максимальный размер файла 300 Кб'); \r\n        return;\r\n    }\r\n\r\n    const url = URL.createObjectURL(file);\r\n    img.src = url;\r\n\r\n    if (cropper) cropper.destroy();\r\n\r\n    img.onload = () => {\r\n        cropper = new Cropper(img, {\r\n            viewMode: 1,\r\n            aspectRatio: NaN,\r\n            zoomable: true,\r\n            scalable: true,\r\n            movable: true,\r\n        });\r\n    };\r\n});\r\n\r\ncropBtn.addEventListener('click', () => {\r\n  if (!cropper) return;\r\n\r\n  const canvas = cropper.getCroppedCanvas();\r\n  resultCanvas.width = canvas.width;\r\n  resultCanvas.height = canvas.height;\r\n  const ctx = resultCanvas.getContext('2d');\r\n  ctx.drawImage(canvas, 0, 0);\r\n\r\n  downloadBtn.disabled = false;\r\n});\r\n\r\ndownloadBtn.addEventListener('click', () => {\r\n    const link = document.createElement('a');\r\n    link.download = 'cropped-image.png';\r\n    link.href = resultCanvas.toDataURL('image/png');\r\n    link.click();\r\n})\r\n});"],"names":[],"version":3,"file":"1.6 TS prac.de158e3a.js.map","sourceRoot":"/__parcel_source_root/"}